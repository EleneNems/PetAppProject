<div class="container" *ngIf="pets.length">

  <div class="page-header">
    <img src="navbar/paw.png" alt="">
  </div>

  <div class="pet-container">
    <div class="card pet-display" *ngFor="let pet of pets">

      <div class="pet-avatar">
        <img [src]="pet.image" [alt]="pet.name" class="pet-img">
      </div>

      <h2>{{ pet.name }}</h2>
      <p class="pet-description">{{ pet.species }}</p>

      <div class="pet-stats-quick">

        <div class="stat-item">
          â¤ï¸
          <div class="stat-bar">
            <div class="stat-fill health" [style.width.%]="pet.stats.health"></div>
          </div>
          <span>{{ pet.stats.health }}%</span>
        </div>

        <div class="stat-item">
          ğŸ˜Š
          <div class="stat-bar">
            <div class="stat-fill happiness" [style.width.%]="pet.stats.happiness"></div>
          </div>
          <span>{{ pet.stats.happiness }}%</span>
        </div>

        <div class="stat-item">
          âš¡
          <div class="stat-bar">
            <div class="stat-fill energy" [style.width.%]="pet.stats.energy"></div>
          </div>
          <span>{{ pet.stats.energy }}%</span>
        </div>

      </div>

      <div class="action-buttons">
        <button
          class="btn btn-primary"
          [disabled]="!canPerform(pet.stats.health)"
          (click)="feed(pet)">
          ğŸ– Feed (-5)
        </button>

        <button
          class="btn btn-secondary"
          [disabled]="!canPerform(pet.stats.happiness)"
          (click)="play(pet)">
          ğŸ¾ Play (-5)
        </button>

        <button
          class="btn btn-accent"
          [disabled]="!canPerform(pet.stats.energy)"
          (click)="rest(pet)">
          ğŸ’¤ Rest (-5)
        </button>
      </div>

      <p class="no-coins" *ngIf="coins < 5">
        Not enough coins
      </p>

    </div>
  </div>
</div>

<app-loading-spinner
  [loading]="loading"
  message="Loading your pets...">
</app-loading-spinner>
